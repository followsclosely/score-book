<mat-horizontal-stepper [selectedIndex]="(parent.handMode == parent.HandMode.Create ) ? 0 : 1" >

  <mat-step>  

    
    <ng-template matStepLabel>Bid</ng-template>
    <div>

      <mat-form-field [style.width.px]=60>
        <mat-label>Bid</mat-label>
        <input matInput type="number" [(ngModel)]="parent.hand.bid.points" (change)="onScoreChange($event)">
      </mat-form-field>
      <mat-form-field >
        <mat-select name="player" placeholder="Winner">
            <mat-option ngDefaultControl *ngFor="let player of parent.players" [(ngModel)]="parent.hand.bid.player" [value]="player">
              {{player.name}}
            </mat-option>
        </mat-select>
      </mat-form-field>

    </div> 



    <div>
      <mat-button-toggle-group name="color" [(ngModel)]="parent.hand.bid.trump">
        <mat-button-toggle value="red">Red</mat-button-toggle>
        <mat-button-toggle value="black">Black</mat-button-toggle>
        <mat-button-toggle value="yellow">Yellow</mat-button-toggle>
        <mat-button-toggle value="green">Green</mat-button-toggle>
      </mat-button-toggle-group>
    </div>

    <br/>

    <div>
      <button mat-raised-button (click)="onCancel()">Cancel</button>
      
      <!-- *ngIf="parent.handMode=='Create'"  -->
      <button mat-raised-button color="primary" (click)="onSubmit()"
      *ngIf="parent.handMode == parent.HandMode.Create">Add Hand</button>

      <button mat-raised-button matStepperNext color="primary" 
      *ngIf="parent.handMode == parent.HandMode.Edit">
        Next <mat-icon>arrow_forward</mat-icon>
    </button>
  </div>

  </mat-step>

  <mat-step *ngIf="parent.handMode == parent.HandMode.Edit" title="Bid">
    <ng-template matStepLabel>Score</ng-template>

    <div *ngFor="let faction of parent.match.factions; let i=index;">
    
      <h4>{{ faction.name }}</h4>
    
      <mat-form-field class="example-full-width" [style.width.px]=60>
        <mat-label>Score</mat-label>
        <input width="3" matInput type="number" value="0" [(ngModel)]="parent.hand.details[i].score" (change)="onScoreChange($event)">
      </mat-form-field>
    
    </div>

    <div>
      <button mat-raised-button matStepperPrevious>
        <mat-icon>arrow_back</mat-icon>Back
      </button>
      <button mat-raised-button matStepperNext color="primary">
        Next <mat-icon>arrow_forward</mat-icon>
      </button>
    </div>


  </mat-step>
</mat-horizontal-stepper>

